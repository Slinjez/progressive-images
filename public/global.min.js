!function(t){function e(a){if(r[a])return r[a].exports;var i=r[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};e.m=t,e.c=r,e.d=function(t,r,a){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(t,e,r){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,r,a){return r&&t(e.prototype,r),a&&t(e,a),e}}(),n=function(){function t(e){a(this,t);var r={pictureTagClassName:"js-progressive-img",pictureLoadedClassName:"progressive-img-state-loaded",mediaQueries:["(max-width: 600px)","(min-width: 600px) and (max-width: 768px)"],fullImageDataAttribute:"srcset"};this.options=Object.assign({},r,e),this.getImages(),this.imageList.length&&this.load();var i=this.throttle(this.update.bind(this),1e3);window.addEventListener("resize",function(){i()})}return i(t,[{key:"getImages",value:function(){this.imageList=document.querySelectorAll("."+this.options.pictureTagClassName)}},{key:"isAllSourcesLoaded",value:function(t){var e=this,r=!0,a=t.querySelectorAll("source"),i=t.querySelector("img");return a.length&&!Array.prototype.every.call(a,function(t){return t.getAttribute("srcset")===t.dataset[e.options.fullImageDataAttribute]})&&(r=!1),-1===i.src.indexOf(i.dataset[this.options.fullImageDataAttribute])&&(r=!1),r}},{key:"load",value:function(){var t=this,e=this.options.mediaQueries.filter(function(t){return window.matchMedia(t).matches})[0];this.imageList.forEach(function(r){var a=r.querySelector("img"),i=r.querySelectorAll("source"),n=void 0;if(i.length&&e&&(n=Array.prototype.filter.call(i,function(t){return t.getAttribute("media")===e}),n=n[0]),e&&n&&n.getAttribute("srcset")===n.dataset[t.options.fullImageDataAttribute]||!n&&a.getAttribute("src")===a.dataset[t.options.fullImageDataAttribute])return!1;a.classList.remove(t.options.pictureLoadedClassName);var o=new Image;return o.onload=function(){n?n.srcset=n.dataset[t.options.fullImageDataAttribute]:a.src=a.dataset[t.options.fullImageDataAttribute],a.classList.add(t.options.pictureLoadedClassName),t.isAllSourcesLoaded(r)&&r.classList.remove(t.options.pictureTagClassName)},n?o.srcset=n.dataset[t.options.fullImageDataAttribute]:o.src=a.dataset[t.options.fullImageDataAttribute],!0})}},{key:"update",value:function(){this.getImages(),this.imageList.length&&this.load()}},{key:"throttle",value:function(t,e){function r(){for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];if(a)return i=s,void(n=this);t.apply(this,s),a=!0,setTimeout(function(){a=!1,i&&(r.apply(n,i),i=n=null)},e)}var a=!1,i=void 0,n=void 0;return r}}]),t}();e.default=n},,function(t,e,r){"use strict";var a=r(0),i=function(t){return t&&t.__esModule?t:{default:t}}(a);window.ProgressiveLoad=i.default}]);